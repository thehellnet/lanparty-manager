group "org.thehellnet.lanparty"
version "0.6.0"

buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url "http://repository.atricore.org/m2-release-repository" }
    }
}

apply plugin: "java"
apply plugin: "groovy"
apply plugin: "idea"
apply plugin: "war"
apply plugin: "jacoco"

sourceCompatibility = 1.11
targetCompatibility = 1.11

war {
    archiveFileName = "lanparty-manager.war"
}

repositories {
    mavenLocal()
    mavenCentral()
    maven { url "http://repository.atricore.org/m2-release-repository" }
}

jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled true
    }
}

check.dependsOn jacocoTestReport

def VERSIONS = [
        "tomcat"             : "9.0.26",
        "groovy"             : "2.5.8",
        "spock"              : "1.3-groovy-2.5",
        "slf4j"              : "1.7.28",
        "logback"            : "1.2.3",
        "spring"             : "5.2.0.RELEASE",
        "spring-data-jpa"    : "2.2.0.RELEASE",
        "jackson"            : "2.9.10",
        "postgresql"         : "42.2.8",
        "c3p0"               : "0.9.5.4",
        "hibernate"          : "5.4.5.Final",
        "hibernate-validator": "6.0.17.Final",
        "json"               : "20190722",
        "snakeyaml"          : "1.25",
        "geoip2"             : "2.12.0"
]

dependencies {
    runtimeOnly group: "org.codehaus.groovy", name: "groovy-all", version: VERSIONS["groovy"]

    implementation group: "org.slf4j", name: "slf4j-api", version: VERSIONS["slf4j"]
    runtimeOnly group: "org.slf4j", name: "jcl-over-slf4j", version: VERSIONS["slf4j"]
    runtimeOnly group: "org.slf4j", name: "jul-to-slf4j", version: VERSIONS["slf4j"]
    runtimeOnly group: "org.slf4j", name: "log4j-over-slf4j", version: VERSIONS["slf4j"]

    runtimeOnly group: "ch.qos.logback", name: "logback-core", version: VERSIONS["logback"]
    runtimeOnly group: "ch.qos.logback", name: "logback-classic", version: VERSIONS["logback"]

    implementation group: "org.springframework", name: "spring-core", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-test", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-context", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-beans", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-web", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-webmvc", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-aop", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-messaging", version: VERSIONS["spring"]
    implementation group: "org.springframework", name: "spring-websocket", version: VERSIONS["spring"]

    implementation group: "com.fasterxml.jackson.core", name: "jackson-core", version: VERSIONS["jackson"]
    implementation group: "com.fasterxml.jackson.core", name: "jackson-databind", version: VERSIONS["jackson"]
    implementation group: "com.fasterxml.jackson.core", name: "jackson-annotations", version: VERSIONS["jackson"]
    implementation group: "com.fasterxml.jackson.datatype", name: "jackson-datatype-joda", version: VERSIONS["jackson"]

    implementation group: "org.springframework.data", name: "spring-data-jpa", version: VERSIONS["spring-data-jpa"]

    implementation group: "javax.xml.bind", name: "jaxb-api", version: "2.3.1"
    implementation group: "javax.servlet", name: "javax.servlet-api", version: "4.0.1"

    implementation group: "org.aspectj", name: "aspectjweaver", version: "1.9.4"

    runtimeOnly group: "org.postgresql", name: "postgresql", version: VERSIONS["postgresql"]
    implementation group: "org.hibernate", name: "hibernate-core", version: VERSIONS["hibernate"]
    implementation group: "org.hibernate.validator", name: "hibernate-validator", version: VERSIONS["hibernate-validator"]
    implementation group: "com.mchange", name: "c3p0", version: VERSIONS["c3p0"]

    implementation group: "org.json", name: "json", version: VERSIONS["json"]
    implementation group: "org.yaml", name: "snakeyaml", version: VERSIONS["snakeyaml"]

    implementation group: "com.maxmind.geoip2", name: "geoip2", version: VERSIONS["geoip2"]

    implementation group: "commons-io", name: "commons-io", version: "2.6"

    implementation group: "joda-time", name: "joda-time", version: "2.10.4"
    implementation group: "joda-time", name: "joda-time-hibernate", version: "1.4"
    implementation group: "org.joda", name: "joda-convert", version: "2.2.1"
    implementation group: "org.jadira.usertype", name: "usertype.core", version: "7.0.0.CR1"

    implementation group: "de.mkammerer", name: "argon2-jvm", version: "2.5"

    implementation group: "com.google.code.findbugs", name: "annotations", version: "3.0.1"

    testRuntimeOnly group: "org.apache.tomcat.embed", name: "tomcat-embed-core", version: VERSIONS["tomcat"]
    testRuntimeOnly group: "org.apache.tomcat.embed", name: "tomcat-embed-jasper", version: VERSIONS["tomcat"]
    testRuntimeOnly group: "org.apache.tomcat.embed", name: "tomcat-embed-websocket", version: VERSIONS["tomcat"]

    testImplementation group: "org.spockframework", name: "spock-core", version: VERSIONS["spock"]
    testImplementation group: "org.spockframework", name: "spock-spring", version: VERSIONS["spock"]

    testImplementation group: "org.springframework", name: "spring-test", version: VERSIONS["spring"]
}
